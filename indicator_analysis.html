<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Projet MOSAIC : Analyse technique - Notions fondamentales</title>
<meta name="author" content="Roland Donat" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<link rel="stylesheet" type="text/css" href="https://edgemind-sas.github.io/visual-identity/official_docs/css/edgemind.css" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Projet MOSAIC : Analyse technique - Notions fondamentales</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table des matières</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#données-historiques-ohlcv">2. Données historiques OHLCV</a></li>
<li><a href="#notations-mathématiques">3. Notations mathématiques</a>
<ul>
<li><a href="#notions-temporelles">3.1. Notions temporelles</a></li>
<li><a href="#chandelier">3.2. Chandelier</a></li>
<li><a href="#rendements">3.3. Rendements</a></li>
</ul>
</li>
<li><a href="#extension-de-la-notion-de-rendements">4. Extension de la notion de rendements</a>
<ul>
<li><a href="#définitions">4.1. Définitions</a></li>
<li><a href="#org732a958">4.2. Rendement de clôture</a></li>
<li><a href="#org6dd0df1">4.3. Rendement du maximum et du minimum</a></li>
</ul>
</li>
<li><a href="#évaluation-de-la-performance-des-indicateurs">5. Indicateurs et évaluation</a>
<ul>
<li><a href="#sec:strat_fi_intro">5.1. Problématique</a></li>
<li><a href="#org4aa5fc2">5.2. Formalisation</a></li>
<li><a href="#org7791db7">5.3. Score WER</a></li>
<li><a href="#org2256c80">5.4. Score AWER</a></li>
<li><a href="#méthodologie-générale">5.5. Méthodologie d'évaluation</a></li>
</ul>
</li>
<li><a href="#org3b4e4a9">6. Environnement technique</a></li>
<li><a href="#org1b9db3c">7. Références</a></li>
</ul>
</div>
</div>

<div id="outline-container-introduction" class="outline-2">
<h2 id="introduction"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-introduction">
<p>
Dans le domaine de l'analyse des marchés financiers, l'analyse technique
correspond à un ensemble d'outils dont le but est de prédire les
rendements futurs des actifs financiers. Les analyses reposent sur
l'étude des historiques des données de marché disponibles,
principalement la cotation et le volume des actifs considérés.
</p>

<p>
La grande majorité des méthodologies présentées reposent sur la
construction d'indicateurs particuliers jugés pertinents par leurs
auteurs. Toutefois, l'évaluation de ces indicateurs n'est réalisée que
sur la base de backtesting empiriques sur des périodes choisies
arbitrairement et relativement courtes lorsqu'il s'agit d'analyses
intra-journalières. Comme les auteurs de l'article <a href="#citeproc_bib_item_1">[1]</a>, nous partageons le constat que l'évaluation des performances de
l'analyse technique nécessite une consolidation mathématique. Pour ce
faire, nous proposons de développer une stratégie d'évaluation des
indicateurs techniques innovante fondée sur l'analyse de la distribution
conditionnelle des rendements par rapport aux indicateurs observés.
</p>

<p>
Ce document a pour objectif de présenter notre démarche de développement
et d'évaluation d'indicateurs techniques pour l'analyse technique des
cryptoactifs.
</p>
</div>
</div>

<div id="outline-container-données-historiques-ohlcv" class="outline-2">
<h2 id="données-historiques-ohlcv"><span class="section-number-2">2.</span> Données historiques OHLCV</h2>
<div class="outline-text-2" id="text-données-historiques-ohlcv">
<p>
L'évolution de la cotation d'un actif au cours du temps est usuellement
présentée sous la forme de données, dites au format OHLCV (de l'anglais
<i>open</i>, <i>high</i>, <i>low</i>, <i>close</i>, <i>volume</i>). Il s'agit d'un format
pratique permettant de représenter des séries temporelles d'une manière
particulière. En effet, le format OHLC (la partie volume n'est pas
concernée par la subtilité du format) représente l'évolution d'une
mesure au cours d'intervalles de temps réguliers successifs caractérisés
par une période d'échantillonnage notée \(\Delta t\) (e.g. une minute,
cinq minutes, une heure, une journée, etc).
</p>

<p>
Typiquement, les données OHLCV contiennent les variables suivantes : 
</p>
<ul class="org-ul">
<li><code>timestamp</code> : timestamp caractérisant le début de la période de mesure (par exemple exprimé en
millisecondes), la fin étant déterminée par la période d'échantillonnage \(\Delta t\) utilisée.</li>
<li><code>open</code> : valeur de l'actif au début de la période.</li>
<li><code>high</code> : valeur maximum de l'actif atteinte sur la période.</li>
<li><code>low</code> : valeur mimimum de l'actif atteinte sur la période.</li>
<li><code>close</code> : valeur de l'actif à la fin de la période.</li>
<li><code>volume</code> : montant cumulé des ventes et des achats de l'actif sur la période.</li>
</ul>

<p>
Il est courant de visualiser les données OHLC à l'aide du graphique, dit
en chandeliers. En fonction, des valeurs d'ouverture (<i>open</i>) et de
fermeture (<i>close</i>), on parle également de chandeliers haussiers et
baissiers, cf. Figure <a href="#org6dae0a5">1</a>.
</p>


<div id="org6dae0a5" class="figure">
<p><img src="./fig/candle.jpg" alt="candle.jpg" />
</p>
<p><span class="figure-number">Figure&nbsp;1&nbsp;: </span>Représentation du symbole de chandelier.</p>
</div>

<p>
Dans un diagramme en chandelier, on retrouve les données OHLC mais
également les notions de : 
</p>
<ul class="org-ul">
<li>corps (<i>body</i>) représentant la distance entre la cotation d'ouverture et de fermeture de l'actif
sur une période ;</li>
<li>mèches ou ombres supérieures (<i>upper shadow</i>) représentant la distance entre la partie haute du
corps et la cotation la plus haute sur une période ;</li>
<li>mèches ou ombres inférieures (<i>lower shadow</i>) représentant la distance entre la partie basse du
corps et la cotation la plus basse sur une période ;</li>
</ul>

<p>
Le tableau suivant donne un aperçu des premières données de cotation du
BTC par rapport à l'USDC de l'année 2021 avec une période
d'échantillonnage \(\Delta t =\) 5 minutes.
</p>

<style type="text/css">
</style>
<table id="T_178ca">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_178ca_level0_col0" class="col_heading level0 col0" >open</th>
      <th id="T_178ca_level0_col1" class="col_heading level0 col1" >high</th>
      <th id="T_178ca_level0_col2" class="col_heading level0 col2" >low</th>
      <th id="T_178ca_level0_col3" class="col_heading level0 col3" >close</th>
      <th id="T_178ca_level0_col4" class="col_heading level0 col4" >volume</th>
    </tr>
    <tr>
      <th class="index_name level0" >time</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
      <th class="blank col4" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_178ca_level0_row0" class="row_heading level0 row0" >2021-01-01 00:00:00+00:00</th>
      <td id="T_178ca_row0_col0" class="data row0 col0" >28 964.54</td>
      <td id="T_178ca_row0_col1" class="data row0 col1" >29 064.55</td>
      <td id="T_178ca_row0_col2" class="data row0 col2" >28 958.66</td>
      <td id="T_178ca_row0_col3" class="data row0 col3" >29 018.17</td>
      <td id="T_178ca_row0_col4" class="data row0 col4" >8.77</td>
    </tr>
    <tr>
      <th id="T_178ca_level0_row1" class="row_heading level0 row1" >2021-01-01 00:05:00+00:00</th>
      <td id="T_178ca_row1_col0" class="data row1 col0" >28 993.74</td>
      <td id="T_178ca_row1_col1" class="data row1 col1" >28 996.04</td>
      <td id="T_178ca_row1_col2" class="data row1 col2" >28 890.99</td>
      <td id="T_178ca_row1_col3" class="data row1 col3" >28 914.30</td>
      <td id="T_178ca_row1_col4" class="data row1 col4" >11.15</td>
    </tr>
    <tr>
      <th id="T_178ca_level0_row2" class="row_heading level0 row2" >2021-01-01 00:10:00+00:00</th>
      <td id="T_178ca_row2_col0" class="data row2 col0" >28 902.53</td>
      <td id="T_178ca_row2_col1" class="data row2 col1" >28 908.49</td>
      <td id="T_178ca_row2_col2" class="data row2 col2" >28 741.86</td>
      <td id="T_178ca_row2_col3" class="data row2 col3" >28 790.00</td>
      <td id="T_178ca_row2_col4" class="data row2 col4" >4.58</td>
    </tr>
    <tr>
      <th id="T_178ca_level0_row3" class="row_heading level0 row3" >2021-01-01 00:15:00+00:00</th>
      <td id="T_178ca_row3_col0" class="data row3 col0" >28 798.99</td>
      <td id="T_178ca_row3_col1" class="data row3 col1" >28 891.63</td>
      <td id="T_178ca_row3_col2" class="data row3 col2" >28 798.29</td>
      <td id="T_178ca_row3_col3" class="data row3 col3" >28 884.38</td>
      <td id="T_178ca_row3_col4" class="data row3 col4" >4.31</td>
    </tr>
    <tr>
      <th id="T_178ca_level0_row4" class="row_heading level0 row4" >2021-01-01 00:20:00+00:00</th>
      <td id="T_178ca_row4_col0" class="data row4 col0" >28 845.04</td>
      <td id="T_178ca_row4_col1" class="data row4 col1" >28 886.67</td>
      <td id="T_178ca_row4_col2" class="data row4 col2" >28 789.15</td>
      <td id="T_178ca_row4_col3" class="data row4 col3" >28 885.73</td>
      <td id="T_178ca_row4_col4" class="data row4 col4" >13.21</td>
    </tr>
  </tbody>
</table>

<p>
Par exemple, la première ligne du tableau signifie que le 01/01/2021 :
</p>

<ul class="org-ul">
<li>à 00:00:00, le prix d'un BTC était de 28964,54 USDC ;</li>
<li>à 00:05:00, le prix d'un BTC était entre 29018,17 USDC (fermeture
période) et 28993,74 USDC (ouverture période suivante) ;</li>
<li>entre 00:00:00 et 00:05:00 le prix d'un BTC est passé par un minimum
28958,66 USDC et un maximum de 29064,55 USDC.</li>
</ul>

<p>
Le marché BTC/USDC étant ouvert 24h/24 et 7j/7, nous devrions observer
\(\text{close}(t-1)\) égale à \(\text{open}(t)\) pour tout \(t\). Toutefois,
la collecte des données n'étant pas instantanée, il est fréquent
d'observer de légères différences entre le cours d'ouverture de la
période courante et le cours de fermeture de la période précédente.
</p>
</div>
</div>

<div id="outline-container-notations-mathématiques" class="outline-2">
<h2 id="notations-mathématiques"><span class="section-number-2">3.</span> Notations mathématiques</h2>
<div class="outline-text-2" id="text-notations-mathématiques">
</div>

<div id="outline-container-notions-temporelles" class="outline-3">
<h3 id="notions-temporelles"><span class="section-number-3">3.1.</span> Notions temporelles</h3>
<div class="outline-text-3" id="text-notions-temporelles">
<p>
Nous avons introduit précédemment la période d'échantillonnage des
données \(\Delta t\). On note également \(t_{0}\) la première date
d'échantillonnage. Dans l'exemple de données précédent, on rappelle que
\(\Delta t = 5\) minutes et que \(t_{0} =\) 2021-01-01 00:00:00.
</p>

<p>
Nous introduisons ensuite l'indice \(p \ge 0\) permettant de référencer la
\(p\) -ème période d'observation des données (cf. Figure <a href="#org397bb89">2</a>), i.e. entre
\(t_{0} + p\Delta t\) et \(t_{0} + (p+1)\Delta t\). En reprenant l'exemple
précédent, on a :
</p>
<ul class="org-ul">
<li>1er période d'observation \(p = 0\) : période entre 2021-01-01 00:00:00 et 2021-01-01 00:05:00 ;</li>
<li>5ème période d'observation \(p = 4\) : période entre 2021-01-01 00:20:00 et 2021-01-01 00:25:00.</li>
</ul>


<div id="org397bb89" class="figure">
<p><img src="./fig/ohlcv_period.png" alt="ohlcv_period.png" />
</p>
<p><span class="figure-number">Figure&nbsp;2&nbsp;: </span>Notion de période sur les données OHLCV.</p>
</div>


<p>
Les données OHLCV sont notées dans la suite comme suit :
</p>
<ul class="org-ul">
<li>\(\text{o}_{p}\) : cotation de l'actif à l'ouverture de la période \(p\), i.e. à \(t = t_{0} +  p\Delta
  t\) ;</li>
<li>\(\text{c}_{p}\) : cotation de l'actif à la fermeture de la période \(p\), i.e. à \(t = t_{0} +
  (p+1)\Delta t\) ;</li>
<li>\(\text{h}_{p}\) : cotation maximum de l'actif sur la période \(p\) ;</li>
<li>\(\text{l}_{p}\) : cotation mimimum de l'actif sur la période \(p\) ;</li>
<li>\(\text{v}_{p}\) : volume échangé de l'actif la période \(p\).</li>
</ul>
</div>
</div>

<div id="outline-container-chandelier" class="outline-3">
<h3 id="chandelier"><span class="section-number-3">3.2.</span> Chandelier</h3>
<div class="outline-text-3" id="text-chandelier">
<p>
En plus des notations précédentes, nous pouvons introduire différentes
grandeurs associées aux parties du diagramme en chandelier.
</p>

<p>
En considérant, le chandelier représentant une donnée OHLC à la période
\(p\), nous avons :<br />
</p>
<ul class="org-ul">
<li>Le corps \(\text{b}_{p} = \text{c}_{p} - \text{o}_{p}\).</li>
<li>L'ombre inférieure \(\text{s}_{p}^{\ell} = \min\{\text{c}_{p}, \text{o}_{p}\} - \text{l}_{p}\).</li>
<li>L'ombre supérieure \(\text{s}_{p}^{u} = \text{h}_{p} - \max\{\text{c}_{p}, \text{o}_{p}\}\).</li>
</ul>
</div>
</div>

<div id="outline-container-rendements" class="outline-3">
<h3 id="rendements"><span class="section-number-3">3.3.</span> Rendements</h3>
<div class="outline-text-3" id="text-rendements">
<p>
On note enfin \(r_{p}\) la variation relative de la cotation d'un actif
entre deux périodes consécutives, on parle également de rendement (ou
<i>returns</i> en anglais) sur la période \(p\). Nous avons donc pour tout
\(p \ge 1\) :
\[
r_{p} = \frac{\text{c}_{p}}{\text{c}_{p - 1}} - 1.
\]
La quantité \(r_{p}\) est donc positive si le BTC gagne en valeur par
rapport à l'USDC sur la période \(p\) et négative sinon. Le rendement
représente l'indicateur principal au coeur de toutes les analyses
financières réalisées sur un actif donnée.
</p>
</div>
</div>
</div>

<div id="outline-container-extension-de-la-notion-de-rendements" class="outline-2">
<h2 id="extension-de-la-notion-de-rendements"><span class="section-number-2">4.</span> Extension de la notion de rendements</h2>
<div class="outline-text-2" id="text-extension-de-la-notion-de-rendements">
</div>

<div id="outline-container-définitions" class="outline-3">
<h3 id="définitions"><span class="section-number-3">4.1.</span> Définitions</h3>
<div class="outline-text-3" id="text-définitions">
<p>
Le calcul des rendements est une étape fondamentale dans l'analyse d'un
actif au cours du temps. La définition d'un rendement proposée dans la
section précédente se limite au rendement sur le cours de clôture et à
deux périodes successives.
</p>

<p>
En effet, nous allons étendre la définition des rendements :
</p>
<ul class="org-ul">
<li>d'une part, aux cotations maximum et minimum ;</li>
<li>et d'autre part, entre deux périodes \(p\) et \(p + k\) données.</li>
</ul>

<p>
Dans les paragraphes suivants, nous illustrerons les différentes rendements sur l'extrait
de cotation BTC/USDC suivant.
</p>
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.12.1.min.js"></script>                <div id="81a63c5f-6be8-44f6-80b9-b3e3701b691b" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("81a63c5f-6be8-44f6-80b9-b3e3701b691b")) {                    Plotly.newPlot(                        "81a63c5f-6be8-44f6-80b9-b3e3701b691b",                        [{"close":[29018.17,28914.3,28790.0,28884.38,28885.73],"high":[29064.55,28996.04,28908.49,28891.63,28886.67],"low":[28958.66,28890.99,28741.86,28798.29,28789.15],"name":"OHLC","open":[28964.54,28993.74,28902.53,28798.99,28845.04],"x":["2021-01-01T00:00:00+00:00","2021-01-01T00:05:00+00:00","2021-01-01T00:10:00+00:00","2021-01-01T00:15:00+00:00","2021-01-01T00:20:00+00:00"],"type":"candlestick"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"text":"Exemple de donn\u00e9es OHLC sur l'actif BTC/USDC"},"yaxis":{"title":{"text":"USDC"}},"xaxis":{"title":{"text":"Temps"}}},                        {"displayModeBar": false, "responsive": true}                    )                };                            </script>        </div>
</div>
</div>

<div id="outline-container-org732a958" class="outline-3">
<h3 id="org732a958"><span class="section-number-3">4.2.</span> Rendement de clôture</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Débutons donc par définir le rendement de clôture entre deux périodes \(p\) et \(p+k\) (cf. Figure
<a href="#orge715816">3</a>) comme suit :
</p>
\begin{equation}
\rho^{\text{c}}_{p + k} = 
\begin{cases}
\frac{\text{c}_{p + k}}{\text{c}_{p-1}} - 1 & \quad k \ge 0 \\
\frac{\text{c}_{p }}{\text{c}_{p + k - 1}} - 1 & \quad k < 0.
\end{cases}
\end{equation}

<p>
À noter que \(k\) est un nombre entier permettant de définir le nombre
de périodes futures ou passées à prendre en compte pour le calcul du
rendement.
</p>


<div id="orge715816" class="figure">
<p><img src="./fig/rho_c_p_k.png" alt="rho_c_p_k.png" />
</p>
<p><span class="figure-number">Figure&nbsp;3&nbsp;: </span>Illustration graphique du calcul d'un rendement de clôture.</p>
</div>

<p>
<b>Exemples</b>
</p>

<p>
Rendements de clôture calculés sur les données de l'exemple précédent et
sur différents horizons :
</p>

<style type="text/css">
</style>
<table id="T_af25f">
  <thead>
    <tr>
      <th class="index_name level0" >period</th>
      <th id="T_af25f_level0_col0" class="col_heading level0 col0" >-3</th>
      <th id="T_af25f_level0_col1" class="col_heading level0 col1" >-2</th>
      <th id="T_af25f_level0_col2" class="col_heading level0 col2" >-1</th>
      <th id="T_af25f_level0_col3" class="col_heading level0 col3" >0</th>
      <th id="T_af25f_level0_col4" class="col_heading level0 col4" >1</th>
      <th id="T_af25f_level0_col5" class="col_heading level0 col5" >2</th>
      <th id="T_af25f_level0_col6" class="col_heading level0 col6" >3</th>
    </tr>
    <tr>
      <th class="index_name level0" >time</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
      <th class="blank col4" >&nbsp;</th>
      <th class="blank col5" >&nbsp;</th>
      <th class="blank col6" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_af25f_level0_row0" class="row_heading level0 row0" >2021-01-01 00:00:00+00:00</th>
      <td id="T_af25f_row0_col0" class="data row0 col0" ></td>
      <td id="T_af25f_row0_col1" class="data row0 col1" ></td>
      <td id="T_af25f_row0_col2" class="data row0 col2" ></td>
      <td id="T_af25f_row0_col3" class="data row0 col3" ></td>
      <td id="T_af25f_row0_col4" class="data row0 col4" ></td>
      <td id="T_af25f_row0_col5" class="data row0 col5" ></td>
      <td id="T_af25f_row0_col6" class="data row0 col6" ></td>
    </tr>
    <tr>
      <th id="T_af25f_level0_row1" class="row_heading level0 row1" >2021-01-01 00:05:00+00:00</th>
      <td id="T_af25f_row1_col0" class="data row1 col0" ></td>
      <td id="T_af25f_row1_col1" class="data row1 col1" ></td>
      <td id="T_af25f_row1_col2" class="data row1 col2" ></td>
      <td id="T_af25f_row1_col3" class="data row1 col3" >-0.358%</td>
      <td id="T_af25f_row1_col4" class="data row1 col4" >-0.786%</td>
      <td id="T_af25f_row1_col5" class="data row1 col5" >-0.461%</td>
      <td id="T_af25f_row1_col6" class="data row1 col6" >-0.456%</td>
    </tr>
    <tr>
      <th id="T_af25f_level0_row2" class="row_heading level0 row2" >2021-01-01 00:10:00+00:00</th>
      <td id="T_af25f_row2_col0" class="data row2 col0" ></td>
      <td id="T_af25f_row2_col1" class="data row2 col1" ></td>
      <td id="T_af25f_row2_col2" class="data row2 col2" >-0.786%</td>
      <td id="T_af25f_row2_col3" class="data row2 col3" >-0.430%</td>
      <td id="T_af25f_row2_col4" class="data row2 col4" >-0.103%</td>
      <td id="T_af25f_row2_col5" class="data row2 col5" >-0.099%</td>
      <td id="T_af25f_row2_col6" class="data row2 col6" ></td>
    </tr>
    <tr>
      <th id="T_af25f_level0_row3" class="row_heading level0 row3" >2021-01-01 00:15:00+00:00</th>
      <td id="T_af25f_row3_col0" class="data row3 col0" ></td>
      <td id="T_af25f_row3_col1" class="data row3 col1" >-0.461%</td>
      <td id="T_af25f_row3_col2" class="data row3 col2" >-0.103%</td>
      <td id="T_af25f_row3_col3" class="data row3 col3" >0.328%</td>
      <td id="T_af25f_row3_col4" class="data row3 col4" >0.333%</td>
      <td id="T_af25f_row3_col5" class="data row3 col5" ></td>
      <td id="T_af25f_row3_col6" class="data row3 col6" ></td>
    </tr>
    <tr>
      <th id="T_af25f_level0_row4" class="row_heading level0 row4" >2021-01-01 00:20:00+00:00</th>
      <td id="T_af25f_row4_col0" class="data row4 col0" >-0.456%</td>
      <td id="T_af25f_row4_col1" class="data row4 col1" >-0.099%</td>
      <td id="T_af25f_row4_col2" class="data row4 col2" >0.333%</td>
      <td id="T_af25f_row4_col3" class="data row4 col3" >0.005%</td>
      <td id="T_af25f_row4_col4" class="data row4 col4" ></td>
      <td id="T_af25f_row4_col5" class="data row4 col5" ></td>
      <td id="T_af25f_row4_col6" class="data row4 col6" ></td>
    </tr>
  </tbody>
</table>

<p>
En prenant la période \(p\) = 2021-01-01T00:05:00 et un horizon \(k = 0\),
le rendement de clôture \(\rho^{\text{c}}_{p} = r_{p}\) correspond au
rapport entre la clôture de la période 2021-01-01T00:05:00 et la clôture
de la période 2021-01-01T00:00:00, soit :
\[
\rho^{\text{c}}_{p} = \frac{\text{c}_{p}}{\text{c}_{p-1}} = \frac{28914.30}{29018.17} - 1 \simeq -0.003579 \simeq -0.358 \%
\]
</p>

<p>
En prenant la période \(p\) = 2021-01-01T00:10:00 et un horizon \(k = 2\),
le rendement de clôture \(\rho^{\text{c}}_{k+2}\) correspond au rapport
entre la clôture de la période 2021-01-01T00:20:00 et la clôture de la
période 2021-01-01T00:05:00, soit :
\[
\rho^{\text{c}}_{p + 2} = \frac{\text{c}_{p+2}}{\text{c}_{p-1}} = \frac{28885.73}{28914.30} - 1 \simeq -0.000988 \simeq -0.099 \%
\]
</p>

<p>
En prenant la période \(p\) = 2021-01-01T00:20:00 et un horizon \(k = -3\),
le rendement de clôture \(\rho^{\text{c}}_{k-3}\) correspond au rapport
entre la clôture de la période 2021-01-01T00:20:00 et la clôture de la
période 2021-01-01T00:00:00, soit :
\[
\rho^{\text{c}}_{p - 3} = \frac{\text{c}_{p}}{\text{c}_{p-4}} = \frac{28885.73}{29018.17} - 1 \simeq -0.00456 \simeq -0.456 \%
\]
</p>
</div>
</div>


<div id="outline-container-org6dd0df1" class="outline-3">
<h3 id="org6dd0df1"><span class="section-number-3">4.3.</span> Rendement du maximum et du minimum</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Le rendement du maximum entre deux périodes \(p\) et \(p+k\) (cf. Figure <a href="#orgf702f77">4</a>) est défini par :
</p>
\begin{equation}
\rho^{\text{h}}_{p + k} = 
\begin{cases}
\frac{\max_{p \le i \le p + k}\text{h}_{i}}{\text{c}_{p-1}} - 1 & \quad k \ge 0 \\
\frac{\max_{p - k \le i \le p}\text{h}_{i}}{\text{c}_{p + k - 1}} - 1 & \quad k < 0.
\end{cases}
\end{equation}


<div id="orgf702f77" class="figure">
<p><img src="./fig/rho_h_p_k.png" alt="rho_h_p_k.png" />
</p>
<p><span class="figure-number">Figure&nbsp;4&nbsp;: </span>Illustration graphique du calcul d'un rendement du maximum.</p>
</div>


<p>
Et par analogie, on définit le rendement du minimum entre deux périodes \(p\) et \(p+k\) (cf. Figure
<a href="#org3b0aaaa">5</a>) :
</p>
\begin{equation}
\rho^{\text{l}}_{p + k} = 
\begin{cases}
\frac{\min_{p \le i \le p + k}\text{h}_{i}}{\text{c}_{p-1}} - 1 & \quad k \ge 0 \\
\frac{\min_{p - k \le i \le p}\text{h}_{i}}{\text{c}_{p + k - 1}} - 1 & \quad k < 0.
\end{cases}
\end{equation}


<div id="org3b0aaaa" class="figure">
<p><img src="./fig/rho_l_p_k.png" alt="rho_l_p_k.png" />
</p>
<p><span class="figure-number">Figure&nbsp;5&nbsp;: </span>Illustration graphique du calcul d'un rendement du minimum.</p>
</div>

<p>
<b>Exemples</b>
</p>

<p>
Rendements du maximum calculés sur les données de l'exemple précédent et
sur différents horizons :
</p>

<style type="text/css">
</style>
<table id="T_0de7d">
  <thead>
    <tr>
      <th class="index_name level0" >period</th>
      <th id="T_0de7d_level0_col0" class="col_heading level0 col0" >-3</th>
      <th id="T_0de7d_level0_col1" class="col_heading level0 col1" >0</th>
      <th id="T_0de7d_level0_col2" class="col_heading level0 col2" >1</th>
      <th id="T_0de7d_level0_col3" class="col_heading level0 col3" >2</th>
    </tr>
    <tr>
      <th class="index_name level0" >time</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_0de7d_level0_row0" class="row_heading level0 row0" >2021-01-01 00:00:00+00:00</th>
      <td id="T_0de7d_row0_col0" class="data row0 col0" ></td>
      <td id="T_0de7d_row0_col1" class="data row0 col1" ></td>
      <td id="T_0de7d_row0_col2" class="data row0 col2" ></td>
      <td id="T_0de7d_row0_col3" class="data row0 col3" ></td>
    </tr>
    <tr>
      <th id="T_0de7d_level0_row1" class="row_heading level0 row1" >2021-01-01 00:05:00+00:00</th>
      <td id="T_0de7d_row1_col0" class="data row1 col0" ></td>
      <td id="T_0de7d_row1_col1" class="data row1 col1" >-0.076%</td>
      <td id="T_0de7d_row1_col2" class="data row1 col2" >-0.076%</td>
      <td id="T_0de7d_row1_col3" class="data row1 col3" >-0.076%</td>
    </tr>
    <tr>
      <th id="T_0de7d_level0_row2" class="row_heading level0 row2" >2021-01-01 00:10:00+00:00</th>
      <td id="T_0de7d_row2_col0" class="data row2 col0" ></td>
      <td id="T_0de7d_row2_col1" class="data row2 col1" >-0.020%</td>
      <td id="T_0de7d_row2_col2" class="data row2 col2" >-0.020%</td>
      <td id="T_0de7d_row2_col3" class="data row2 col3" >-0.020%</td>
    </tr>
    <tr>
      <th id="T_0de7d_level0_row3" class="row_heading level0 row3" >2021-01-01 00:15:00+00:00</th>
      <td id="T_0de7d_row3_col0" class="data row3 col0" ></td>
      <td id="T_0de7d_row3_col1" class="data row3 col1" >0.353%</td>
      <td id="T_0de7d_row3_col2" class="data row3 col2" >0.353%</td>
      <td id="T_0de7d_row3_col3" class="data row3 col3" ></td>
    </tr>
    <tr>
      <th id="T_0de7d_level0_row4" class="row_heading level0 row4" >2021-01-01 00:20:00+00:00</th>
      <td id="T_0de7d_row4_col0" class="data row4 col0" >-0.076%</td>
      <td id="T_0de7d_row4_col1" class="data row4 col1" >0.008%</td>
      <td id="T_0de7d_row4_col2" class="data row4 col2" ></td>
      <td id="T_0de7d_row4_col3" class="data row4 col3" ></td>
    </tr>
  </tbody>
</table>

<p>
Rendements du minimum calculés sur les mêmes horizons :
</p>

<style type="text/css">
</style>
<table id="T_fc435">
  <thead>
    <tr>
      <th class="index_name level0" >period</th>
      <th id="T_fc435_level0_col0" class="col_heading level0 col0" >-3</th>
      <th id="T_fc435_level0_col1" class="col_heading level0 col1" >0</th>
      <th id="T_fc435_level0_col2" class="col_heading level0 col2" >1</th>
      <th id="T_fc435_level0_col3" class="col_heading level0 col3" >2</th>
    </tr>
    <tr>
      <th class="index_name level0" >time</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_fc435_level0_row0" class="row_heading level0 row0" >2021-01-01 00:00:00+00:00</th>
      <td id="T_fc435_row0_col0" class="data row0 col0" ></td>
      <td id="T_fc435_row0_col1" class="data row0 col1" ></td>
      <td id="T_fc435_row0_col2" class="data row0 col2" ></td>
      <td id="T_fc435_row0_col3" class="data row0 col3" ></td>
    </tr>
    <tr>
      <th id="T_fc435_level0_row1" class="row_heading level0 row1" >2021-01-01 00:05:00+00:00</th>
      <td id="T_fc435_row1_col0" class="data row1 col0" ></td>
      <td id="T_fc435_row1_col1" class="data row1 col1" >-0.438%</td>
      <td id="T_fc435_row1_col2" class="data row1 col2" >-0.952%</td>
      <td id="T_fc435_row1_col3" class="data row1 col3" >-0.952%</td>
    </tr>
    <tr>
      <th id="T_fc435_level0_row2" class="row_heading level0 row2" >2021-01-01 00:10:00+00:00</th>
      <td id="T_fc435_row2_col0" class="data row2 col0" ></td>
      <td id="T_fc435_row2_col1" class="data row2 col1" >-0.596%</td>
      <td id="T_fc435_row2_col2" class="data row2 col2" >-0.596%</td>
      <td id="T_fc435_row2_col3" class="data row2 col3" >-0.596%</td>
    </tr>
    <tr>
      <th id="T_fc435_level0_row3" class="row_heading level0 row3" >2021-01-01 00:15:00+00:00</th>
      <td id="T_fc435_row3_col0" class="data row3 col0" ></td>
      <td id="T_fc435_row3_col1" class="data row3 col1" >0.029%</td>
      <td id="T_fc435_row3_col2" class="data row3 col2" >-0.003%</td>
      <td id="T_fc435_row3_col3" class="data row3 col3" ></td>
    </tr>
    <tr>
      <th id="T_fc435_level0_row4" class="row_heading level0 row4" >2021-01-01 00:20:00+00:00</th>
      <td id="T_fc435_row4_col0" class="data row4 col0" >-0.952%</td>
      <td id="T_fc435_row4_col1" class="data row4 col1" >-0.330%</td>
      <td id="T_fc435_row4_col2" class="data row4 col2" ></td>
      <td id="T_fc435_row4_col3" class="data row4 col3" ></td>
    </tr>
  </tbody>
</table>


<p>
En prenant la période \(p\) = 2021-01-01T00:05:00 et un horizon \(k = 0\),
le rendement du maximum \(\rho^{\text{h}}_{p} = r_{p}\) correspond au
rapport entre la cotation maximum de la période 2021-01-01T00:05:00 et
la clôture de la période 2021-01-01T00:00:00, soit :
\[
\rho^{\text{h}}_{p} = \frac{\text{h}_{p}}{\text{c}_{p-1}} = \frac{28996.04}{29018.17} - 1 \simeq -0.000762 \simeq -0.076 \%
\]
</p>

<p>
Le rendement du minimum correspondant est :
\[
\rho^{\text{l}}_{p} = \frac{\text{l}_{p}}{\text{c}_{p-1}} = \frac{28890.99}{29018.17} - 1 \simeq -0.00438 \simeq -0.44 \%
\]
</p>

<p>
En prenant la période \(p\) = 2021-01-01T00:10:00 et un horizon \(k = 2\),
le rendement du maximum \(\rho^{\text{h}}_{k+2}\) correspond au rapport
entre la cotation maximum entre les périodes 2021-01-01T00:10:00 et
2021-01-01T00:20:00, et la clôture de la période 2021-01-01T00:05:00,
soit :
\[
\rho^{\text{h}}_{p + 2} = \frac{\max\{\text{h}_{p}, \text{h}_{p+1}, \text{h}_{p+2}\}}{\text{c}_{p-1}} = \frac{\text{h}_{p}}{\text{c}_{p-1}} = \frac{28908.49}{28914.30} - 1 \simeq -0.000201 \simeq -0.02 \%
\]
</p>

<p>
Le rendement du minimum correspondant est :
\[
\rho^{\text{l}}_{p + 2} = \frac{\max\{\text{l}_{p}, \text{l}_{p+1}, \text{l}_{p+2}\}}{\text{c}_{p-1}} = \frac{\text{l}_{p}}{\text{c}_{p-1}} = \frac{28741.86}{28914.30} - 1 \simeq -0.00596 \simeq -0.59 \%
\]
</p>

<p>
En prenant la période \(p\) = 2021-01-01T00:20:00 et un horizon \(k = -3\),
le rendement du maximum \(\rho^{\text{h}}_{k-3}\) correspond au rapport
entre la cotation maximum entre les périodes 2021-01-01T00:05:00 et
2021-01-01T00:20:00, et la clôture de la période 2021-01-01T00:00:00,
soit :
\[
\rho^{\text{h}}_{p - 3} = \frac{\max\{\text{h}_{p-3}, \text{h}_{p-2}, \text{h}_{p-1}, \text{h}_{p}\}}{\text{c}_{p-4}} = \frac{\text{h}_{p-3}}{\text{c}_{p-4}} = \frac{28996.04}{29018.17} - 1 \simeq -0.000762 \simeq -0.076 \%
\]
</p>

<p>
Le rendement du minimum correspondant est :
\[
\rho^{\text{l}}_{p - 3} = \frac{\max\{\text{l}_{p-3}, \text{l}_{p-2}, \text{l}_{p-1}, \text{l}_{p}\}}{\text{c}_{p-4}} = \frac{\text{l}_{p-2}}{\text{c}_{p-4}} = \frac{28741.86}{29018.17} - 1 \simeq -0.00952 \simeq -0.95 \%
\]
</p>
</div>
</div>
</div>


<div id="outline-container-évaluation-de-la-performance-des-indicateurs" class="outline-2">
<h2 id="évaluation-de-la-performance-des-indicateurs"><span class="section-number-2">5.</span> Indicateurs et évaluation</h2>
<div class="outline-text-2" id="text-évaluation-de-la-performance-des-indicateurs">
</div>


<div id="outline-container-sec:strat_fi_intro" class="outline-3">
<h3 id="sec:strat_fi_intro"><span class="section-number-3">5.1.</span> Problématique</h3>
<div class="outline-text-3" id="text-sec:strat_fi_intro">
<p>
Un des objectifs du projet MOSAIC est d'élaborer des politiques décisionnelles d'investissements
auto-adaptatives sur les marchés financiers, en particulier ceux des crytoactifs. Un investissement
de type achat/vente <sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup> (en anglais <i>long position</i>) se caractérise par le fait
d'acheter une certaine quantité d'un actif afin de le vendre ultérieurement dans le but de faire une
plus-value.
</p>

<p>
En pratique, une politique d'investissement correspond donc à des règles d'achat et de vente d'un ou plusieurs
actifs sur une durée donnée. Ces règles peuvent être établies de différentes manières,
e.g. par expertise, suite à l'occurrence d'un ou plusieurs événements macroéconomiques, en fonction
de l'évolution de la cotation, etc. 
</p>

<p>
La stratégie que nous développons consiste à construire des règles d'achat et de vente
s'appuyant sur l'analyse prévisionnelle des rendements futurs espérés (à un horizon fixe) suite à
l'observation de divers indicateurs. Il est à noter que la notion d'indicateur peut se généraliser à la notion
d'information disponible au moment d'appliquer des règles d'achat/vente. Par ailleurs, afin de simplifier la
problématique, nous considérons que les indicateurs prennent leurs valeurs dans des domaines discrets et
finis. Par exemple, nous pourrions construire nos stratégies d'achat/vente à partir de l'observation
des deux indicateurs suivants :
</p>
<ul class="org-ul">
<li>couleur du chandelier précédent à valeurs dans \(\{\text{vert},\text{rouge}\}\) ;</li>
<li>signe du rendement sur les 3 périodes précédentes à valeurs dans \(\{+,-\}\).</li>
</ul>
<p>
Dans ce cas, nous pouvons construire un indicateur agrégé ayant six configurations \(\{(\text{vert}, +),
(\text{vert}, -), (\text{rouge}, +), (\text{rouge}, -)\}\) permettant de représenter toute l'information
observable à partir des deux indicateurs précédents.
</p>

<p>
La question de la pertinence des indicateurs utilisés dans une stratégie d'investissement se pose
alors naturellement. Dans le secteur de la finance, il est courant d'évaluer une stratégie d'investissement en
appliquant cette dernière sur des historiques de cotations (<i>back testing</i>) afin de simuler des
décisions d'achat/vente et calculer le rendement correspondant. Toutefois, ces techniques de <i>back
testing</i> s'avèrent relativement complexes à mettre en place et ne permettent pas de dissocier
l'apport des indicateurs utilisés par rapport à celui de la stratégie décisionnelle sur la
performance simulée.
</p>

<p>
Par conséquent, sans remettre en question le principe essentiel de <i>back testing</i>, le but est ici de
proposer une méthodologie ciblée sur l'évaluation quantitative des indicateurs. Pour ce faire, nous
considérons une stratégie d'investissement de référence qui sera utilisée pour évaluer tous les
indicateurs. Cette stratégie repose sur trois paramètres :
</p>
<ul class="org-ul">
<li>une borne de prise de profit (<i>take profit</i> en anglais) qui désigne le prix auquel nous
vendrons notre actif si celui-ci prend de la valeur ;</li>
<li>une borne de contrôle des pertes (<i>stop loss</i> en anglais) qui désigne le prix auquel nous
vendrons notre actif si celui-ci perd de la valeur ;</li>
<li>un horizon temporel au bout duquel nous vendrons l'actif au prix du marché.</li>
</ul>

<p>
Cette stratégie est illustrée dans sur la Figure <a href="#orgbfbc001">6</a>.
</p>
</div>
</div>


<div id="outline-container-org4aa5fc2" class="outline-3">
<h3 id="org4aa5fc2"><span class="section-number-3">5.2.</span> Formalisation</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Considérons tout d'abord les variables aléatoires suivantes :
</p>
<ul class="org-ul">
<li>\(R^{\text{c}}_{p+k}\) représentant le rendement de clôture entre les périodes \(p\) et \(p+k\) ;</li>
<li>\(R^{\text{h}}_{p+k}\) représentant le rendement du maximum entre les périodes \(p\) et \(p+k\) ;</li>
<li>\(R^{\text{l}}_{p+k}\) représentant le rendement du minimum entre à la période \(p\) et \(p+k\).</li>
</ul>

<p>
Nous désignons par \(\mathcal{S}\) la stratégie d'investissement de référence introduite dans la
Section <a href="#sec:strat_fi_intro">5.1</a>. Nous pouvons alors évaluer le rendement de cette 
stratégie suite à l'achat de l'actif étudié à la période \(p\). Ce rendement, noté
\(R^{\mathcal{S}}_{p+k}\), est une variable aléatoire définie comme suit : 
</p>
\begin{equation}
\label{eq:RSpk}
R^{\mathcal{S}}_{p+k} =
\begin{cases}
\rho^{+} & \text{si}~ R^{\text{h}}_{p+k} > \rho^{+}~\text{et}~ R^{\text{l}}_{p+k} > \rho^{-}, \\
\rho^{-} & \text{si}~ R^{\text{l}}_{p+k} < \rho^{-}, \\
R^{\text{c}}_{p+k} & \text{sinon},
\end{cases}
\end{equation}
<p>
où :
</p>
<ul class="org-ul">
<li>\(\rho^{+}, \rho^{-}\) sont les rendements de prise de profit et de contrôle des
pertes considérés dans la stratégie ;</li>
<li>\(k\) correspond au nombre de périodes au bout duquel l'actif sera vendu au rendement du
marché, i.e. \(R^{\text{c}}_{p+k}\), si les seuils de rendement \(\rho^{+}\) et
\(\rho^{-}\) ne sont pas atteint entre les périodes \(p\) et \(p+k\).</li>
</ul>

<p>
La Figure <a href="#orgbfbc001">6</a> illustre les principe de la stratégie d'investissement décrite
précédemment. Dans cette exemple trois investissements (achats) sont effectuées. La durée maximum de
conservation de l'actif est de \(k=4\) périodes. La premier achat (à gauche) est revendu au cours de
la deuxième période car la valeur de l'actif a atteint le seuil de contrôle des pertes. Le second
achat (au milieu) est revendu au cours de la quatrième période car le seuil de prise de profit est
atteint. Enfin, le dernier achat (à droite) est revendu au prix de clôture de la quatrième période
car aucune des bornes de vente n'est atteinte sur les quatre période de l'investissement.
</p>


<div id="orgbfbc001" class="figure">
<p><img src="./fig/fi_strat_ref.png" alt="fi_strat_ref.png" />
</p>
<p><span class="figure-number">Figure&nbsp;6&nbsp;: </span>Principes de la stratégie d'investissement de référence.</p>
</div>


<p>
Nous cherchons à présent à construire un score représentatif de la performance d'un ou
 plusieurs indicateurs dans la cadre de la stratégie d'investissement de référence
 précédente. Notons \(I_{p}\) la variable aléatoire représentant la configuration des indicateurs
 considérés (l'information disponible) à la période \(p\). La variable \(I_{p}\) est à valeurs dans
 l'ensemble fini des configurations possibles \(\mathcal{I} = \{i_{1}, \ldots, i_{M}\}\). En reprenant
 l'exemple de la Section <a href="#sec:strat_fi_intro">5.1</a>, \(M=6\) et \(\mathcal{I} = \{(\text{vert}, +),
 (\text{vert}, -), (\text{rouge}, +), (\text{rouge}, -)\}\). 
</p>

<p>
Le score de performance proposé consiste à évaluer l'espérance des rendements de la stratégie
\(\mathcal{S}\) entre la période \(p\) et \(p+k\) conditionnellement à chaque configuration d'indicateurs
observée à la période \(p-1\). Autrement dit, pour toute configuration d'indicateurs \(i_{m} \in
\mathcal{I}\), nous avons :
</p>

\begin{equation}
\label{orgd0adf53}
\mathbb{E}[R^{\mathcal{S}}_{p+k} | i_{m}] = \pi^{+}_{i_{m}} \rho^{+}  + \pi^{-}_{i_{m}} \rho^{-}  + (1 - \pi^{+}_{i_{m}} - \pi^{-}_{i_{m}})\overline{\rho}^{\text{c}}_{p+k | i_{m}},
\end{equation}
<p>
avec :
</p>
<ul class="org-ul">
<li>\(\pi^{+}_{i_{m}} = P(R^{\text{h}}_{p+k} > \rho^{+} ; R^{\text{l}}_{p+k} > \rho^{-} | i_{m})\) ;</li>
<li>\(\pi^{-}_{i_{m}} = P(R^{\text{l}}_{p+k} < \rho^{-} | i_{m})\) ;</li>
<li>\(\overline{\rho}^{\text{c}}_{p+k | i_{m}} = \mathbb{E}[R^{\text{c}}_{p+k} | i_{m}]\).</li>
</ul>
</div>
</div>


<div id="outline-container-org7791db7" class="outline-3">
<h3 id="org7791db7"><span class="section-number-3">5.3.</span> Score WER</h3>
<div class="outline-text-3" id="text-5-3">
<p>
À partir de l'expression \eqref{orgd0adf53}, nous construisons le score des rendements
extrêmes pondérés (<i>weighted extreme returns</i> en anglais) en fixant les seuils rendements \(\rho^{+}\)
et \(\rho^{-}\) comme suit :
</p>
<ul class="org-ul">
<li>\(\rho^{+} = \rho^{\text{h}}_{p + k,\alpha|i_{m}}\) le quantile de niveau \(\alpha\) du rendement du maximum à
l'horizon \(k\), i.e. \(\alpha = P(R^{\text{h}}_{p + k} \le \rho^{\text{h}}_{p + k,\alpha}|i_{m})\).</li>
<li>\(\rho^{-} = \rho^{\text{l}}_{p + k,1 - \beta|i_{m}}\) le quantile de niveau \(1 - \beta\) du rendement du minimum à
l'horizon \(k\), i.e. \(1 - \beta = P(R^{\text{l}}_{p + k} \le \rho^{\text{l}}_{p + k,1 - \beta}|i_{m})\) ;</li>
</ul>

<p>
Ce score de performance, noté WER, se calcule donc pour chaque configuration d'indicateurs \(i_{m} \in
\mathcal{I}\) de la manière suivante :
</p>
\begin{equation}
\label{org9732deb}
\text{WER}(\alpha,\beta, k, i_{m}) = \rho^{\text{h}}_{p + k,\alpha|i_{m}} \pi^{+}_{i_{m}} + \rho^{\text{l}}_{p + k,1 - \beta|i_{m}} \pi^{-}_{i_{m}} + (1 - \pi^{+}_{i_{m}} - \pi^{-}_{i_{m}})\overline{\rho}^{\text{c}}_{p+k | i_{m}} - \text{WER}_{\text{ref}}(\alpha,\beta, k),
\end{equation}
<p>
en posant \(\text{WER}_{\text{ref}}(\alpha,\beta, k)\) le score des rendements extrêmes de référence
<i>a priori</i>, i.e. sans tenir compte du conditionnement par rapport aux indicateurs observés.
</p>

<p>
<span class="underline">Interprétation du score :</span>
</p>
<ul class="org-ul">
<li>Le score WER est lié au rendement espéré résultant d'une prise
de profit sur le rendement du maximum au niveau \(\alpha\) et des pertes sur le rendement du minimum
au niveau \(\beta\).</li>
<li>Les niveaux \(\alpha\) et \(\beta\) contrôlent la prise de risque et les gains espérés de la stratégie
d'investissement (cf. Figure <a href="#orgd3010fc">7</a> pour une illustration des quantiles
\(\rho^{\text{h}}_{p + k,\alpha|i_{m}}\) et \(\rho^{\text{l}}_{p + k, 1-\beta|i_{m}}\).</li>
<li>Prendre \(\alpha\) proche de 0 signifie un seuil de prise de profit bas (donc un
gain espéré faible) mais avec probabilité élevée, i.e. on gagne peu mais
souvent. À l'inverse, prendre \(\alpha\) proche de 1 signifie un seuil de prise de profit haut (donc un
gain espéré important) mais avec probabilité faible, i.e. on gagne beaucoup mais
rarement.</li>
<li>Prendre \(\beta\) proche de 0 signifie un seuil de contrôle des pertes petit 
mais avec une probabilité élevée, i.e. on risque de perdre peu mais
souvent. À l'inverse, prendre \(\beta\) proche de 1 signifie un seuil de contrôle des pertes grand
mais avec une probabilité faible, i.e. on risque de perdre beaucoup mais 
rarement.</li>
<li>Le terme \(\text{WER}(\alpha,\beta, k, i_{m})\) permet de pénaliser le score de la configuration
\(i_{m}\) en le corrigeant avec le score obtenu sans indicateur.</li>
</ul>


<div id="orgd3010fc" class="figure">
<p><img src="./fig/rho_hl_quant.png" alt="rho_hl_quant.png" />
</p>
<p><span class="figure-number">Figure&nbsp;7&nbsp;: </span>Représentation graphique des quantiles \(\rho^{\text{h}}_{p + k,\alpha}\) et \(\rho^{\text{l}}_{p + k,\alpha}\).</p>
</div>
</div>
</div>

<div id="outline-container-org2256c80" class="outline-3">
<h3 id="org2256c80"><span class="section-number-3">5.4.</span> Score AWER</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Une variante du score WER \eqref{org9732deb} consiste à lier les niveaux de risques \(\alpha\) et \(\beta\) de
sorte que \(\beta = 1 - \alpha\).
</p>

<p>
Ce score, noté AWER pour (<i>asymetric weighted extreme returns</i> en anglais), est défini pour chaque configuration d'indicateurs \(i_{m} \in
\mathcal{I}\) par :
</p>
\begin{equation}
\label{org70e0cf7}
\text{AWER}(\alpha, k, i_{m}) = \rho^{\text{h}}_{p + k,\alpha|i_{m}} \pi^{+}_{i_{m}} + \rho^{\text{l}}_{p + k,\alpha|i_{m}} \pi^{-}_{i_{m}} +  (1 - \pi^{+}_{i_{m}} - \pi^{-}_{i_{m}})\overline{\rho}^{\text{c}}_{p+k | i_{m}} - \text{SWER}_{\text{ref}}(\alpha, k),
\end{equation}
<p>
en posant \(\text{AWER}_{\text{ref}}(\alpha, k)\) le score des rendements extrêmes symétrique de référence.
</p>

<p>
L'interprétation du score AWER est analogue à celle du score WER. La différence entre les deux
scores consiste à imposer une distribution des risques entre la prise de profit et le contrôle des
pertes. Autrement dit, si on décide d'évaluer un indicateur en supposant une prise de profit faible
mais fréquente (i.e. \(\alpha\) proche de 0) alors les pertes pourront être importantes mais rares
(i.e. \(\beta\) proche de 1). En fixant, la stratégie associée à \(\alpha = 0.5\) permet de considérer
un risque équilibré entre perte et profit. 
</p>
</div>
</div>

<div id="outline-container-méthodologie-générale" class="outline-3">
<h3 id="méthodologie-générale"><span class="section-number-3">5.5.</span> Méthodologie d'évaluation</h3>
<div class="outline-text-3" id="text-méthodologie-générale">
<p>
Dans cette section, nous proposons une méthodologie d'évaluation d'indicateurs reposant sur le score
AWER. Les différents termes du score sont évalués de manière empirique à partir d'un historique de
données sur l'actif étudié.
</p>

<p>
Soit un indicateur \(I\) à valeurs dans \(\mathcal{I} = \{i_{1}, \ldots, i_{M}\}\), le protocole
d'évaluation se déroule de la manière suivante :
</p>
<ol class="org-ol">
<li>Collecter des données historiques :
<ul class="org-ul">
<li>Sélection de l'actif étudié, e.g. BTC/USDC.</li>
<li>Choisir la période d'échantillonnage \(\Delta t\) considérée. En fonction des stratégies, \(\Delta
     t\) peut être plus ou moins grand, e.g. 1 min, 5 min, 1 heure, 1 journée, 1 semaine, etc.</li>
</ul></li>
<li>Fixer un horizon \(k \ge 0\) définissant le temps maximum de conservation de l'actif avant sa vente
au prix du marché.</li>
<li>Fixer le niveau de risque \(\alpha\) de la stratégie d'investissement de référence utilisée de
manière sous-jacente par le score ACER.</li>
<li>Pour chaque configuration \(i_{m} \in \mathcal{I}\) de l'indicateur étudié :
<ol class="org-ol">
<li>Estimer les rendements à horizon \(p+k\) conditionnellement à l'observation de la configuration
\(i_{m}\) à la période \(p-1\) à partir des données historiques.</li>
<li>Estimer empiriquement le score AWER</li>
</ol></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org3b4e4a9" class="outline-2">
<h2 id="org3b4e4a9"><span class="section-number-2">6.</span> Environnement technique</h2>
<div class="outline-text-2" id="text-6">
<p>
Les librairies <code>Python</code> utilisées dans les traitements présentés dans ce document sont :
</p>
<style type="text/css">
</style>
<table id="T_dcfce">
  <thead>
    <tr>
      <th id="T_dcfce_level0_col0" class="col_heading level0 col0" >Library</th>
      <th id="T_dcfce_level0_col1" class="col_heading level0 col1" >Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="T_dcfce_row0_col0" class="data row0 col0" >MOSAIC</td>
      <td id="T_dcfce_row0_col1" class="data row0 col1" >0.0.12</td>
    </tr>
  </tbody>
</table>
</div>
</div>


<div id="outline-container-org1b9db3c" class="outline-2">
<h2 id="org1b9db3c"><span class="section-number-2">7.</span> Références</h2>
<div class="outline-text-2" id="text-7">
<style>.csl-left-margin{float: left; padding-right: 0em;}
 .csl-right-inline{margin: 0 0 0 1em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline">R. T. Farias Nazário, J. L. e Silva, V. A. Sobreiro, and H. Kimura, “A literature review of technical analysis on stock markets,” <i>The quarterly review of economics and finance</i>, vol. 66, pp. 115–126, Nov. 2017, doi: <a href="https://doi.org/10.1016/j.qref.2017.01.014">10.1016/j.qref.2017.01.014</a>.</div>
  </div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Notes de bas de page: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">Par opposition d'un investissement en vente à 
découvert (en anglais <i>short position</i>).</p></div></div>


</div>
</div></div>
</body>
</html>
