<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Projet MOSAIC : Notions fondamentales</title>
<meta name="author" content="Roland Donat" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<link rel="stylesheet" type="text/css" href="https://edgemind-sas.github.io/visual-identity/official_docs/css/edgemind.css" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Projet MOSAIC : Notions fondamentales</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table des matières</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#données-historiques-ohlcv">2. Données historiques OHLCV</a></li>
<li><a href="#notations-mathématiques">3. Notations mathématiques</a>
<ul>
<li><a href="#notions-temporelles">3.1. Notions temporelles</a></li>
<li><a href="#chandelier">3.2. Chandelier</a></li>
<li><a href="#rendements">3.3. Rendements</a></li>
</ul>
</li>
<li><a href="#extension-de-la-notion-de-rendements">4. Extension de la notion de rendements</a>
<ul>
<li><a href="#définitions">4.1. Définitions</a></li>
<li><a href="#orgd180e21">4.2. Rendement de clôture</a></li>
<li><a href="#org88055eb">4.3. Rendement du maximum et du minimum</a></li>
</ul>
</li>
<li><a href="#org7502ae7">5. Environnement technique</a></li>
<li><a href="#org43910d3">6. Références</a></li>
</ul>
</div>
</div>

<div id="outline-container-introduction" class="outline-2">
<h2 id="introduction"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-introduction">
<p>
Dans le domaine de l'analyse des marchés financiers, l'analyse technique
correspond à un ensemble d'outils dont le but est de prédire les
rendements futurs des actifs financiers. Les analyses reposent sur
l'étude des historiques des données de marché disponibles,
principalement la cotation et le volume des actifs considérés.
</p>

<p>
La grande majorité des méthodologies présentées reposent sur la
construction d'indicateurs particuliers jugés pertinents par leurs
auteurs. Toutefois, l'évaluation de ces indicateurs n'est réalisée que
sur la base de backtesting empiriques sur des périodes choisies
arbitrairement et relativement courtes lorsqu'il s'agit d'analyses
intra-journalières. Comme les auteurs de l'article <a href="#citeproc_bib_item_1">[1]</a>, nous partageons le constat que l'évaluation des performances de
l'analyse technique nécessite une consolidation mathématique. Pour ce
faire, nous proposons de développer une stratégie d'évaluation des
indicateurs techniques innovante fondée sur l'analyse de la distribution
conditionnelle des rendements par rapport aux indicateurs observés.
</p>

<p>
Ce document a pour objectif de présenter notre démarche de développement
et d'évaluation d'indicateurs techniques pour l'analyse technique des
cryptoactifs.
</p>
</div>
</div>

<div id="outline-container-données-historiques-ohlcv" class="outline-2">
<h2 id="données-historiques-ohlcv"><span class="section-number-2">2.</span> Données historiques OHLCV</h2>
<div class="outline-text-2" id="text-données-historiques-ohlcv">
<p>
L'évolution de la cotation d'un actif au cours du temps est usuellement
présentée sous la forme de données, dites au format OHLCV (de l'anglais
<i>open</i>, <i>high</i>, <i>low</i>, <i>close</i>, <i>volume</i>). Il s'agit d'un format
pratique permettant de représenter des séries temporelles d'une manière
particulière. En effet, le format OHLC (la partie volume n'est pas
concernée par la subtilité du format) représente l'évolution d'une
mesure au cours d'intervalles de temps réguliers successifs caractérisés
par une période d'échantillonnage notée \(\Delta t\) (e.g. une minute,
cinq minutes, une heure, une journée, etc).
</p>

<p>
Typiquement, les données OHLCV contiennent les variables suivantes : 
</p>
<ul class="org-ul">
<li><code>timestamp</code> : timestamp caractérisant le début \(t\) de l'intervalle de mesure (par exemple exprimé en
millisecondes ou au format ISO), l'instant de fin de l'intervalle étant égal à \(t + \Delta t\).</li>
<li><code>open</code> : valeur de l'actif au début de l'intervalle.</li>
<li><code>high</code> : valeur maximum de l'actif atteinte sur l'intervalle.</li>
<li><code>low</code> : valeur mimimum de l'actif atteinte sur l'invervalle.</li>
<li><code>close</code> : valeur de l'actif à la fin de l'intervalle.</li>
<li><code>volume</code> : montant cumulé des ventes et des achats de l'actif sur l'intervalle.</li>
</ul>

<p>
Il est courant de visualiser les données OHLC à l'aide du graphique, dit
en chandeliers. En fonction, des valeurs d'ouverture (<i>open</i>) et de
fermeture (<i>close</i>), on parle également de chandeliers haussiers et
baissiers, cf. Figure <a href="#org7b403db">1</a>.
</p>


<div id="org7b403db" class="figure">
<p><img src="./fig/candle.jpg" alt="candle.jpg" />
</p>
<p><span class="figure-number">Figure&nbsp;1&nbsp;: </span>Représentation du symbole de chandelier.</p>
</div>

<p>
Dans un diagramme en chandelier, on retrouve les données OHLC mais
également les notions de : 
</p>
<ul class="org-ul">
<li>corps (<i>body</i>) représentant la distance entre la cotation d'ouverture et de fermeture de l'actif
sur un intervalle de temps ;</li>
<li>mèches ou ombres supérieures (<i>upper shadow</i>) représentant la distance entre la partie haute du
corps et la cotation la plus haute sur un intervalle de temps ;</li>
<li>mèches ou ombres inférieures (<i>lower shadow</i>) représentant la distance entre la partie basse du
corps et la cotation la plus basse sur un intervalle de temps ;</li>
</ul>

<p>
Le tableau suivant donne un aperçu des premières données de cotation du
BTC par rapport à l'USDC de l'année 2021 avec une période
d'échantillonnage \(\Delta t =\) 5 minutes.
</p>

<style type="text/css">
</style>
<table id="T_1f64a">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_1f64a_level0_col0" class="col_heading level0 col0" >timestamp</th>
      <th id="T_1f64a_level0_col1" class="col_heading level0 col1" >open</th>
      <th id="T_1f64a_level0_col2" class="col_heading level0 col2" >high</th>
      <th id="T_1f64a_level0_col3" class="col_heading level0 col3" >low</th>
      <th id="T_1f64a_level0_col4" class="col_heading level0 col4" >close</th>
      <th id="T_1f64a_level0_col5" class="col_heading level0 col5" >volume</th>
    </tr>
    <tr>
      <th class="index_name level0" >datetime</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
      <th class="blank col4" >&nbsp;</th>
      <th class="blank col5" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_1f64a_level0_row0" class="row_heading level0 row0" >2021-01-01 01:00:00+01:00</th>
      <td id="T_1f64a_row0_col0" class="data row0 col0" >1 609 459 200 000</td>
      <td id="T_1f64a_row0_col1" class="data row0 col1" >28 964.54</td>
      <td id="T_1f64a_row0_col2" class="data row0 col2" >29 064.55</td>
      <td id="T_1f64a_row0_col3" class="data row0 col3" >28 958.66</td>
      <td id="T_1f64a_row0_col4" class="data row0 col4" >29 018.17</td>
      <td id="T_1f64a_row0_col5" class="data row0 col5" >8.77</td>
    </tr>
    <tr>
      <th id="T_1f64a_level0_row1" class="row_heading level0 row1" >2021-01-01 01:05:00+01:00</th>
      <td id="T_1f64a_row1_col0" class="data row1 col0" >1 609 459 500 000</td>
      <td id="T_1f64a_row1_col1" class="data row1 col1" >28 993.74</td>
      <td id="T_1f64a_row1_col2" class="data row1 col2" >28 996.04</td>
      <td id="T_1f64a_row1_col3" class="data row1 col3" >28 890.99</td>
      <td id="T_1f64a_row1_col4" class="data row1 col4" >28 914.30</td>
      <td id="T_1f64a_row1_col5" class="data row1 col5" >11.15</td>
    </tr>
    <tr>
      <th id="T_1f64a_level0_row2" class="row_heading level0 row2" >2021-01-01 01:10:00+01:00</th>
      <td id="T_1f64a_row2_col0" class="data row2 col0" >1 609 459 800 000</td>
      <td id="T_1f64a_row2_col1" class="data row2 col1" >28 902.53</td>
      <td id="T_1f64a_row2_col2" class="data row2 col2" >28 908.49</td>
      <td id="T_1f64a_row2_col3" class="data row2 col3" >28 741.86</td>
      <td id="T_1f64a_row2_col4" class="data row2 col4" >28 790.00</td>
      <td id="T_1f64a_row2_col5" class="data row2 col5" >4.58</td>
    </tr>
    <tr>
      <th id="T_1f64a_level0_row3" class="row_heading level0 row3" >2021-01-01 01:15:00+01:00</th>
      <td id="T_1f64a_row3_col0" class="data row3 col0" >1 609 460 100 000</td>
      <td id="T_1f64a_row3_col1" class="data row3 col1" >28 798.99</td>
      <td id="T_1f64a_row3_col2" class="data row3 col2" >28 891.63</td>
      <td id="T_1f64a_row3_col3" class="data row3 col3" >28 798.29</td>
      <td id="T_1f64a_row3_col4" class="data row3 col4" >28 884.38</td>
      <td id="T_1f64a_row3_col5" class="data row3 col5" >4.31</td>
    </tr>
    <tr>
      <th id="T_1f64a_level0_row4" class="row_heading level0 row4" >2021-01-01 01:20:00+01:00</th>
      <td id="T_1f64a_row4_col0" class="data row4 col0" >1 609 460 400 000</td>
      <td id="T_1f64a_row4_col1" class="data row4 col1" >28 845.04</td>
      <td id="T_1f64a_row4_col2" class="data row4 col2" >28 886.67</td>
      <td id="T_1f64a_row4_col3" class="data row4 col3" >28 789.15</td>
      <td id="T_1f64a_row4_col4" class="data row4 col4" >28 885.73</td>
      <td id="T_1f64a_row4_col5" class="data row4 col5" >13.21</td>
    </tr>
  </tbody>
</table>

<p>
Par exemple, la première ligne du tableau signifie que le 01/01/2021 :
</p>

<ul class="org-ul">
<li>à 01:00:00, le prix d'un BTC était de 28964,54 USDC ;</li>
<li>à 01:05:00, le prix d'un BTC était entre 29018,17 USDC (fermeture
de l'intervalle) et 28993,74 USDC (ouverture de l'intervalle suivant) ;</li>
<li>entre 00:00:00 et 00:05:00 le prix d'un BTC est passé par un minimum
28958,66 USDC et un maximum de 29064,55 USDC.</li>
</ul>

<p>
Le marché BTC/USDC étant ouvert 24h/24 et 7j/7, nous devrions observer
\(\text{close}(t-1)\) égale à \(\text{open}(t)\) pour tout \(t\). Toutefois,
la collecte des données n'étant pas instantanée, il est fréquent
d'observer de légères différences entre le cours d'ouverture de l'intervalle de temps courant et le cours de fermeture de l'intervalle précédent.
</p>
</div>
</div>

<div id="outline-container-notations-mathématiques" class="outline-2">
<h2 id="notations-mathématiques"><span class="section-number-2">3.</span> Notations mathématiques</h2>
<div class="outline-text-2" id="text-notations-mathématiques">
</div>

<div id="outline-container-notions-temporelles" class="outline-3">
<h3 id="notions-temporelles"><span class="section-number-3">3.1.</span> Notions temporelles</h3>
<div class="outline-text-3" id="text-notions-temporelles">
<p>
Nous avons introduit précédemment la période d'échantillonnage des
données \(\Delta t\). On note également \(t_{0}\) la première date
d'échantillonnage. Dans l'exemple de données précédent, on rappelle que
\(\Delta t = 5\) minutes et que \(t_{0} =\) 2021-01-01 01:00:00.
</p>

<p>
Chaque intervalle de temps est alors repéré par l'instant qui marque le début de
l'intervalle. L'intervalle \(t\) désigne donc l'intervalle de temps qui commence à l'instant \(t\) et se
termine à l'instant \(t + \Delta t\) (cf. Figure <a href="#orge64c118">2</a>).
</p>

<p>
Afin de se repérer relativement à un intervalle \(t\) donné dans le cas d'un échantillonnage de
période \(Delta t\), on désigne par intervalle \(t + k\), où $k est un entier
relatif, l'intervalle débutant à l'instant \(t + k \Delta t\) et s'achevant à l'instant \(t + (k + 1)
\Delta t\) 
</p>

<p>
En reprenant l'exemple précédent, on a :
</p>
<ul class="org-ul">
<li>l'intervalle \(t_{0}\) entre 2021-01-01 01:00:00 et 2021-01-01 01:05:00 ;</li>
<li>l'intervalle \(t_{0} + 4\) entre 2021-01-01 01:20:00 et 2021-01-01 01:25:00.</li>
</ul>


<div id="orge64c118" class="figure">
<p><img src="./fig/ohlcv_interval.png" alt="ohlcv_interval.png" />
</p>
<p><span class="figure-number">Figure&nbsp;2&nbsp;: </span>Notion d'intervalle sur les données OHLCV.</p>
</div>


<p>
Les données OHLCV sont notées dans la suite comme suit :
</p>
<ul class="org-ul">
<li>\(\text{o}_{t}\) : cotation de l'actif à l'ouverture de l'intervalle \(t\) ;</li>
<li>\(\text{c}_{t}\) : cotation de l'actif à la fermeture de l'intervalle \(t\), autrement dit cotation de
l'actif à l'instant \(t + \Delta t\) ;</li>
<li>\(\text{h}_{t}\) : cotation maximum de l'actif sur l'intervalle \(t\) ;</li>
<li>\(\text{l}_{t}\) : cotation mimimum de l'actif sur l'intervalle \(t\) ;</li>
<li>\(\text{v}_{t}\) : volume échangé de l'actif sut l'intervalle \(t\).</li>
</ul>
</div>
</div>

<div id="outline-container-chandelier" class="outline-3">
<h3 id="chandelier"><span class="section-number-3">3.2.</span> Chandelier</h3>
<div class="outline-text-3" id="text-chandelier">
<p>
En plus des notations précédentes, nous pouvons introduire différentes
grandeurs associées aux parties du diagramme en chandelier.
</p>

<p>
En considérant, le chandelier représentant une donnée OHLC sur l'intervalle \(t\), nous avons :<br />
</p>
<ul class="org-ul">
<li>Le corps \(\text{b}_{t} = \text{c}_{t} - \text{o}_{t}\).</li>
<li>L'ombre inférieure \(\text{s}_{t}^{\ell} = \min\{\text{c}_{t}, \text{o}_{t}\} - \text{l}_{t}\).</li>
<li>L'ombre supérieure \(\text{s}_{t}^{u} = \text{h}_{t} - \max\{\text{c}_{t}, \text{o}_{t}\}\).</li>
</ul>
</div>
</div>

<div id="outline-container-rendements" class="outline-3">
<h3 id="rendements"><span class="section-number-3">3.3.</span> Rendements</h3>
<div class="outline-text-3" id="text-rendements">
<p>
On note enfin \(r_{t}\) la variation relative de la cotation d'un actif
entre deux intervalles consécutif, on parle également de rendement (ou
<i>returns</i> en anglais) sur l'intervalle \(t\). Nous avons donc pour tout
\(t\) :
</p>
\begin{equation}
\label{orgcaba803}
r_{t} = \frac{\text{c}_{t}}{\text{c}_{t - 1}} - 1.
\end{equation}
<p>
La quantité \(r_{t}\) est donc positive si l'actif gagne de la valeur sur l'intervalle \(t\) et négative
sinon. Le rendement 
représente l'indicateur principal au coeur de toutes les analyses
financières réalisées sur un actif donnée.
</p>
</div>
</div>
</div>

<div id="outline-container-extension-de-la-notion-de-rendements" class="outline-2">
<h2 id="extension-de-la-notion-de-rendements"><span class="section-number-2">4.</span> Extension de la notion de rendements</h2>
<div class="outline-text-2" id="text-extension-de-la-notion-de-rendements">
</div>

<div id="outline-container-définitions" class="outline-3">
<h3 id="définitions"><span class="section-number-3">4.1.</span> Définitions</h3>
<div class="outline-text-3" id="text-définitions">
<p>
Le calcul des rendements est une étape fondamentale dans l'analyse d'un
actif au cours du temps. La définition d'un rendement proposée dans la
section précédente se limite au rendement sur le cours de clôture et uniquement entre deux
intervalles de temps successifs.
</p>

<p>
En effet, nous allons étendre la définition des rendements :
</p>
<ul class="org-ul">
<li>d'une part, aux cotations maximum et minimum ;</li>
<li>et d'autre part, entre deux intervalles de temps \(t\) et \(t + k\) donnés.</li>
</ul>

<p>
Dans les paragraphes suivants, nous illustrerons les différentes rendements sur l'extrait
de cotation BTC/USDC suivant.
</p>
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.18.0.min.js"></script>                <div id="876f8921-ff8b-4295-8c23-65a2b12a8c73" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("876f8921-ff8b-4295-8c23-65a2b12a8c73")) {                    Plotly.newPlot(                        "876f8921-ff8b-4295-8c23-65a2b12a8c73",                        [{"close":[29018.17,28914.3,28790.0,28884.38,28885.73],"high":[29064.55,28996.04,28908.49,28891.63,28886.67],"low":[28958.66,28890.99,28741.86,28798.29,28789.15],"name":"OHLC","open":[28964.54,28993.74,28902.53,28798.99,28845.04],"x":["2021-01-01T01:00:00+01:00","2021-01-01T01:05:00+01:00","2021-01-01T01:10:00+01:00","2021-01-01T01:15:00+01:00","2021-01-01T01:20:00+01:00"],"type":"candlestick"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"text":"Exemple de donn\u00e9es OHLC sur l'actif BTC/USDC"},"yaxis":{"title":{"text":"USDC"}},"xaxis":{"title":{"text":"Temps"}}},                        {"displayModeBar": false, "responsive": true}                    )                };                            </script>        </div>
</div>
</div>

<div id="outline-container-orgd180e21" class="outline-3">
<h3 id="orgd180e21"><span class="section-number-3">4.2.</span> Rendement de clôture</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Commençons donc par définir le rendement de clôture entre deux intervalles \(t\) et \(t+k\) (cf. Figure
<a href="#orgae27c7f">3</a>) comme suit :
</p>
\begin{equation}
\rho^{\text{c}}_{t + k} = 
\begin{cases}
\frac{\text{c}_{t + k}}{\text{c}_{t-1}} - 1 & \quad k \ge 0 \\
\frac{\text{c}_{t }}{\text{c}_{t + k - 1}} - 1 & \quad k < 0.
\end{cases}
\end{equation}

<p>
À noter que \(k\) est un nombre entier permettant de définir le nombre
d'intervalles futurs ou passés à prendre en compte pour le calcul du
rendement.
</p>


<div id="orgae27c7f" class="figure">
<p><img src="./fig/rho_c_t_k.png" alt="rho_c_t_k.png" />
</p>
<p><span class="figure-number">Figure&nbsp;3&nbsp;: </span>Illustration graphique du calcul d'un rendement de clôture.</p>
</div>

<p>
<b>Exemples</b>
</p>

<p>
Rendements de clôture calculés sur les données de l'exemple précédent et
sur différents horizons :
</p>

<style type="text/css">
</style>
<table id="T_a22e9">
  <thead>
    <tr>
      <th class="index_name level0" >period</th>
      <th id="T_a22e9_level0_col0" class="col_heading level0 col0" >-3</th>
      <th id="T_a22e9_level0_col1" class="col_heading level0 col1" >-2</th>
      <th id="T_a22e9_level0_col2" class="col_heading level0 col2" >-1</th>
      <th id="T_a22e9_level0_col3" class="col_heading level0 col3" >0</th>
      <th id="T_a22e9_level0_col4" class="col_heading level0 col4" >1</th>
      <th id="T_a22e9_level0_col5" class="col_heading level0 col5" >2</th>
      <th id="T_a22e9_level0_col6" class="col_heading level0 col6" >3</th>
    </tr>
    <tr>
      <th class="index_name level0" >datetime</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
      <th class="blank col4" >&nbsp;</th>
      <th class="blank col5" >&nbsp;</th>
      <th class="blank col6" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_a22e9_level0_row0" class="row_heading level0 row0" >2021-01-01 01:00:00+01:00</th>
      <td id="T_a22e9_row0_col0" class="data row0 col0" ></td>
      <td id="T_a22e9_row0_col1" class="data row0 col1" ></td>
      <td id="T_a22e9_row0_col2" class="data row0 col2" ></td>
      <td id="T_a22e9_row0_col3" class="data row0 col3" ></td>
      <td id="T_a22e9_row0_col4" class="data row0 col4" ></td>
      <td id="T_a22e9_row0_col5" class="data row0 col5" ></td>
      <td id="T_a22e9_row0_col6" class="data row0 col6" ></td>
    </tr>
    <tr>
      <th id="T_a22e9_level0_row1" class="row_heading level0 row1" >2021-01-01 01:05:00+01:00</th>
      <td id="T_a22e9_row1_col0" class="data row1 col0" ></td>
      <td id="T_a22e9_row1_col1" class="data row1 col1" ></td>
      <td id="T_a22e9_row1_col2" class="data row1 col2" ></td>
      <td id="T_a22e9_row1_col3" class="data row1 col3" >-0.358%</td>
      <td id="T_a22e9_row1_col4" class="data row1 col4" >-0.786%</td>
      <td id="T_a22e9_row1_col5" class="data row1 col5" >-0.461%</td>
      <td id="T_a22e9_row1_col6" class="data row1 col6" >-0.456%</td>
    </tr>
    <tr>
      <th id="T_a22e9_level0_row2" class="row_heading level0 row2" >2021-01-01 01:10:00+01:00</th>
      <td id="T_a22e9_row2_col0" class="data row2 col0" ></td>
      <td id="T_a22e9_row2_col1" class="data row2 col1" ></td>
      <td id="T_a22e9_row2_col2" class="data row2 col2" >-0.786%</td>
      <td id="T_a22e9_row2_col3" class="data row2 col3" >-0.430%</td>
      <td id="T_a22e9_row2_col4" class="data row2 col4" >-0.103%</td>
      <td id="T_a22e9_row2_col5" class="data row2 col5" >-0.099%</td>
      <td id="T_a22e9_row2_col6" class="data row2 col6" ></td>
    </tr>
    <tr>
      <th id="T_a22e9_level0_row3" class="row_heading level0 row3" >2021-01-01 01:15:00+01:00</th>
      <td id="T_a22e9_row3_col0" class="data row3 col0" ></td>
      <td id="T_a22e9_row3_col1" class="data row3 col1" >-0.461%</td>
      <td id="T_a22e9_row3_col2" class="data row3 col2" >-0.103%</td>
      <td id="T_a22e9_row3_col3" class="data row3 col3" >0.328%</td>
      <td id="T_a22e9_row3_col4" class="data row3 col4" >0.333%</td>
      <td id="T_a22e9_row3_col5" class="data row3 col5" ></td>
      <td id="T_a22e9_row3_col6" class="data row3 col6" ></td>
    </tr>
    <tr>
      <th id="T_a22e9_level0_row4" class="row_heading level0 row4" >2021-01-01 01:20:00+01:00</th>
      <td id="T_a22e9_row4_col0" class="data row4 col0" >-0.456%</td>
      <td id="T_a22e9_row4_col1" class="data row4 col1" >-0.099%</td>
      <td id="T_a22e9_row4_col2" class="data row4 col2" >0.333%</td>
      <td id="T_a22e9_row4_col3" class="data row4 col3" >0.005%</td>
      <td id="T_a22e9_row4_col4" class="data row4 col4" ></td>
      <td id="T_a22e9_row4_col5" class="data row4 col5" ></td>
      <td id="T_a22e9_row4_col6" class="data row4 col6" ></td>
    </tr>
  </tbody>
</table>

<p>
En prenant l'instant \(t\) = 2021-01-01T00:05:00 et un horizon \(k = 0\),
le rendement de clôture \(\rho^{\text{c}}_{t} = r_{t}\) correspond au
rapport entre la clôture de l'intervalle débutant à la date 2021-01-01T01:05:00 et la clôture
de l'intervalle précédent (2021-01-01T01:00:00), soit :
\[
\rho^{\text{c}}_{t} = \frac{\text{c}_{t}}{\text{c}_{t-1}} = \frac{28914.30}{29018.17} - 1 \simeq -0.003579 \simeq -0.358 \%
\]
</p>

<p>
En prenant l'intervalle à \(t\) = 2021-01-01T00:10:00 et un horizon \(k = 2\),
le rendement de clôture \(\rho^{\text{c}}_{t+2}\) correspond au rapport
entre la clôture de l'intervalle 2021-01-01T01:20:00 et la clôture de l'intervalle 2021-01-01T01:05:00, soit :
\[
\rho^{\text{c}}_{t + 2} = \frac{\text{c}_{t+2}}{\text{c}_{t-1}} = \frac{28885.73}{28914.30} - 1 \simeq -0.000988 \simeq -0.099 \%
\]
</p>

<p>
En prenant l'intervalle \(t\) = 2021-01-01T01:20:00 et un horizon \(k = -3\),
le rendement de clôture \(\rho^{\text{c}}_{t-3}\) correspond au rapport
entre la clôture de l'intervalle 2021-01-01T01:20:00 et la clôture de l'intervalle 2021-01-01T01:00:00, soit :
\[
\rho^{\text{c}}_{t - 3} = \frac{\text{c}_{t}}{\text{c}_{t-4}} = \frac{28885.73}{29018.17} - 1 \simeq -0.00456 \simeq -0.456 \%
\]
</p>


<p>
<b>Propriété</b>
</p>

<p>
Le rendement de clôture entre les intervalles \(t\) et \(t + k\), noté \(\rho^{\text{c}}_{t + k}\),
s'exprime en fonction des rendements \(r_{t}, \ldots, r_{t+k}\) (cf. Équation \eqref{orgcaba803})
comme suit :
</p>
\begin{equation}
\rho^{\text{c}}_{t + k} = \prod_{i = 1}^{k} (r_{t + i} + 1) - 1
\end{equation}

<p>
Ce résultat classique s'obtient en remarquant que :
</p>
\begin{align}
\rho^{\text{c}}_{t + k} + 1 & = \frac{\text{c}_{t + k}}{\text{c}_{t-1}} \\
& = \frac{\text{c}_{t}}{\text{c}_{t - 1}} \frac{\text{c}_{t + 1}}{\text{c}_{t}} \ldots \frac{\text{c}_{t + k}}{\text{c}_{t + k - 1}} \\
& = (r_{t} + 1) (r_{t+1} + 1) \ldots (r_{t+k} + 1)
\end{align}
</div>
</div>


<div id="outline-container-org88055eb" class="outline-3">
<h3 id="org88055eb"><span class="section-number-3">4.3.</span> Rendement du maximum et du minimum</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Le rendement du maximum entre deux intervalles \(t\) et \(t+k\) (cf. Figure <a href="#org7be8a12">4</a>) est défini par :
</p>
\begin{equation}
\rho^{\text{h}}_{t + k} = 
\begin{cases}
\frac{\max_{t \le i \le t + k}\text{h}_{i}}{\text{c}_{t-1}} - 1 & \quad k \ge 0 \\
\frac{\max_{t - k \le i \le t}\text{h}_{i}}{\text{c}_{t + k - 1}} - 1 & \quad k < 0.
\end{cases}
\end{equation}


<div id="org7be8a12" class="figure">
<p><img src="./fig/rho_h_t_k.png" alt="rho_h_t_k.png" />
</p>
<p><span class="figure-number">Figure&nbsp;4&nbsp;: </span>Illustration graphique du calcul d'un rendement du maximum.</p>
</div>


<p>
Et par analogie, on définit le rendement du minimum entre deux intervalles \(t\) et \(t+k\) (cf. Figure
<a href="#orgfced9bc">5</a>) :
</p>
\begin{equation}
\rho^{\text{l}}_{t + k} = 
\begin{cases}
\frac{\min_{t \le i \le t + k}\text{h}_{i}}{\text{c}_{t-1}} - 1 & \quad k \ge 0 \\
\frac{\min_{t - k \le i \le t}\text{h}_{i}}{\text{c}_{t + k - 1}} - 1 & \quad k < 0.
\end{cases}
\end{equation}


<div id="orgfced9bc" class="figure">
<p><img src="./fig/rho_l_t_k.png" alt="rho_l_t_k.png" />
</p>
<p><span class="figure-number">Figure&nbsp;5&nbsp;: </span>Illustration graphique du calcul d'un rendement du minimum.</p>
</div>

<p>
<b>Exemples</b>
</p>

<p>
Rendements du maximum calculés sur les données de l'exemple précédent et
sur différents horizons :
</p>


<p>
Rendements du minimum calculés sur les mêmes horizons :
</p>



<p>
En prenant l'intervalle \(t\) = 2021-01-01T01:05:00 et un horizon \(k = 0\),
le rendement du maximum \(\rho^{\text{h}}_{t} = r_{t}\) correspond au
rapport entre la cotation maximum de l'intervalle 2021-01-01T01:05:00 et
la clôture de l'intervalle 2021-01-01T01:00:00, soit :
\[
\rho^{\text{h}}_{t} = \frac{\text{h}_{t}}{\text{c}_{t-1}} = \frac{28996.04}{29018.17} - 1 \simeq -0.000762 \simeq -0.076 \%
\]
</p>

<p>
Le rendement du minimum correspondant est :
\[
\rho^{\text{l}}_{t} = \frac{\text{l}_{t}}{\text{c}_{t-1}} = \frac{28890.99}{29018.17} - 1 \simeq -0.00438 \simeq -0.44 \%
\]
</p>

<p>
En prenant l'intervalle \(t\) = 2021-01-01T01:10:00 et un horizon \(k = 2\),
le rendement du maximum \(\rho^{\text{h}}_{t+2}\) correspond au rapport
entre la cotation maximum entre les intervalle 2021-01-01T01:10:00 et
2021-01-01T01:20:00, et la clôture de l'intervalle 2021-01-01T01:05:00,
soit :
\[
\rho^{\text{h}}_{t + 2} = \frac{\max\{\text{h}_{t}, \text{h}_{t+1}, \text{h}_{t+2}\}}{\text{c}_{t-1}} = \frac{\text{h}_{t}}{\text{c}_{t-1}} = \frac{28908.49}{28914.30} - 1 \simeq -0.000201 \simeq -0.02 \%
\]
</p>

<p>
Le rendement du minimum correspondant est :
\[
\rho^{\text{l}}_{t + 2} = \frac{\max\{\text{l}_{t}, \text{l}_{t+1}, \text{l}_{t+2}\}}{\text{c}_{t-1}} = \frac{\text{l}_{t}}{\text{c}_{t-1}} = \frac{28741.86}{28914.30} - 1 \simeq -0.00596 \simeq -0.59 \%
\]
</p>

<p>
En prenant l'intervalle \(t\) = 2021-01-01T01:20:00 et un horizon \(k = -3\),
le rendement du maximum \(\rho^{\text{h}}_{t-3}\) correspond au rapport
entre la cotation maximum entre les intervalles 2021-01-01T01:05:00 et
2021-01-01T01:20:00, et la clôture de l'intervalle 2021-01-01T01:00:00,
soit :
\[
\rho^{\text{h}}_{t - 3} = \frac{\max\{\text{h}_{t-3}, \text{h}_{t-2}, \text{h}_{t-1}, \text{h}_{t}\}}{\text{c}_{t-4}} = \frac{\text{h}_{t-3}}{\text{c}_{t-4}} = \frac{28996.04}{29018.17} - 1 \simeq -0.000762 \simeq -0.076 \%
\]
</p>

<p>
Le rendement du minimum correspondant est :
\[
\rho^{\text{l}}_{t - 3} = \frac{\max\{\text{l}_{t-3}, \text{l}_{t-2}, \text{l}_{t-1}, \text{l}_{t}\}}{\text{c}_{t-4}} = \frac{\text{l}_{t-2}}{\text{c}_{t-4}} = \frac{28741.86}{29018.17} - 1 \simeq -0.00952 \simeq -0.95 \%
\]
</p>
</div>
</div>
</div>


<div id="outline-container-org7502ae7" class="outline-2">
<h2 id="org7502ae7"><span class="section-number-2">5.</span> Environnement technique</h2>
<div class="outline-text-2" id="text-5">
<p>
Les librairies <code>Python</code> utilisées dans les traitements présentés dans ce document sont :
</p>
<style type="text/css">
</style>
<table id="T_2dc1f">
  <thead>
    <tr>
      <th id="T_2dc1f_level0_col0" class="col_heading level0 col0" >Library</th>
      <th id="T_2dc1f_level0_col1" class="col_heading level0 col1" >Version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="T_2dc1f_row0_col0" class="data row0 col0" >MOSAIC</td>
      <td id="T_2dc1f_row0_col1" class="data row0 col1" >0.0.33</td>
    </tr>
  </tbody>
</table>
</div>
</div>


<div id="outline-container-org43910d3" class="outline-2">
<h2 id="org43910d3"><span class="section-number-2">6.</span> Références</h2>
<div class="outline-text-2" id="text-6">
<style>.csl-left-margin{float: left; padding-right: 0em;}
 .csl-right-inline{margin: 0 0 0 1em;}</style><div class="csl-bib-body">
  <div class="csl-entry"><a id="citeproc_bib_item_1"></a>
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline">R. T. Farias Nazário, J. L. e Silva, V. A. Sobreiro, and H. Kimura, “A literature review of technical analysis on stock markets,” <i>The quarterly review of economics and finance</i>, vol. 66, pp. 115–126, Nov. 2017, doi: <a href="https://doi.org/10.1016/j.qref.2017.01.014">10.1016/j.qref.2017.01.014</a>.</div>
  </div>
</div>
</div>
</div>
</div>
</body>
</html>
